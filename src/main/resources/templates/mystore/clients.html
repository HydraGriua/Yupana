<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="Layout/ResourcesLayout :: head">
<link th:href="@{/assets/styles/styles-client.css}" rel="stylesheet">
<meta charset="utf-8">
</head>
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Clientes</title>

<header th:replace="Layout/MenuLayout :: header"> </header>
<body>
	<div class="content app">

		<section class="filters">
			<div class="row">
				<h2>Filtros</h2>
				<button id="close-filters" class="btn-icon">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<form id="frm-filter">
				<strong>Ordenar por</strong> <label for="orderby"> <select
					name="orderby" id="orderby">
						<option value="dateLasts">Más reciente</option>
						<option value="dateFirsts">Más antiguo</option>
						<option value="deudaMayor">Mayor deuda</option>
						<option value="deudaMenor">Menor deuda</option>
						<option value="nombreAZ">Orden Alfabético A-Z</option>
						<option value="nombreZA">Orden Alfabético Z-A</option>
				</select>
				</label> <br> <strong>Filtrar por</strong>
				<div>
					<label> <span>Tipo de cliente</span> <select
						name="tiposCliente">
							<!--class="select-3"-->
							<option value="all">Todos los tipos de cliente</option>
							<option value="sell">Cliente regular</option>
							<option value="delivery">Cliente con s. a Delivery</option>
					</select></label> <label> <span>Tipo de deuda</span> <select
						name="tiposPago" id="">
							<option value="all">Incluir clientes sin deuda</option>
							<option value="duetoPay">Solo clientes con deuda</option>
							<option value="payed">Solo clientes con deuda</option>
					</select></label> <label> <span>Tipo de tasa de interés</span> <select
						name="tiposInteres" id="">
							<option value="all">Todos los tipos de interés</option>
							<option value="ts">Con Tasa de Interés Simple</option>
							<option value="tc">Con Tasa de Interés Compuesta</option>
							<option value="te">Con Tasa de Interés Efectiva</option>
					</select></label> <label> <!----> <!--Fechas--> <span>Entre</span>
						<div>
							<input type="date"> - <input type="date" value="now">
						</div>
					</label> <label> <span>Tipo de moneda</span> <select
						name="tipoMoneda" id="">
							<option value="soles">S/. PE Soles Peruanos</option>
							<option value="usdollar">$ USD Dollar</option>
					</select></label>
				</div>
				<button type="submit" id="filter">
					<span>Filtrar</span> <i class="fas fa-filter"></i>
				</button>
			</form>
		</section>

		<section class="actions row">
			 
			<a th:href="@{'newClient?id=' + ${session.usuario.id}}">
			<button id="newClient">
				Nuevo cliente<i class="fas fa-plus"></i>
			</button></a>
			<div class="cards row">
				<button id="view" value="todet">
					Mostrar detalles <i class="fas fa-eye"></i>
				</button>
				<button id="export">
					Exportar <i class="fas fa-download"></i></i>
				</button>
			</div>
		</section>

		<main class="container">
			<h1>Clientes</h1>
			<span th:if="${session.usuario !=null}">
						Bienvenido/a <span class="font-italic" th:text="${session.usuario.id}"> </span></span>
				<Form th:action="@{/logout}" method="post" 
						class="a-main" id="frm-hola">
				</Form>
				<button type="submit" class="btn btn-primary mt-6" form ="frm-hola"> Salir </button>
			<section class="cards" id="c-clients">

				<div class="card easy center" th:each="wallet : ${wallets}">
					<!--det o easy-->
					<div class="top">
						<h1 th:text="'Detalle de Línea - '+${wallet.state}"></h1>
						<div class="r-code">
							Código de registro <span th:text="${wallet.userId}">NM1238913</span>
						</div>
					</div>
					<!-- div class="details">
						<div class="client">
							Cliente <span><a href="#" th:text="${wallet.name}">.</a></span>
						</div>
						
						<div class="acum">
							<div class="money debt">
								Monto acumulado a cobrar <span th:text="${wallet.totalDebt}"></span>
							</div>
						</div>
						
					</div -->
					<div class="details">
						<div class="client">
							Cliente <span><a
								th:text="${wallet.name} + ' '+ ${wallet.firstLastname}+ ' '+ ${wallet.secondLastname}"></a></span>
						</div>
						<div class="tInterest tohide">
							Tipo de interés <span th:text="${wallet.currentRateType}"></span>
							<span class="subDet"> Capitalización: <span
								th:text="${wallet.currentCapitalization} + ' - ' +${wallet.capitalizationType}">
							</span></span>
						</div>

						<div class="delivery tohide">
							<div th:if="${wallet.subscription != null}">
								Suscripción Delivery
								<div class="row">
									<span>Precio</span> <span
										th:text="${wallet.subscription.amount}"> </span>
									<div class="subDet">
										<!--class="date tosmall" -- tonormal-->
										Próximo pago: <span th:text="${wallet.sExpirationDate}">
										</span>
									</div>
								</div>
							</div>
						</div>

						<div class="credleft tohide">
							<!--debt o payment-->
							<div>
								Crédito restante 
								<span>
								<td th:switch="${wallet.currencyType}"><span
									th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
								</span>
								
								
								</span> 
								
								<span
									th:text="${wallet.currentCreditLine}"></span>
							</div>
							<div class="subDet">
								Crédito otorgado 
								<span>
								<td th:switch="${wallet.currencyType}"><span
									th:case="'soles'">S/. </span>
									<span th:case="'usdollar'">$	</span>
									</td>
								</span> 
								
								<span th:text="${wallet.creditLine}"></span>
							</div>
						</div>
						<div class="acum">
							<div class="money debt">
								Monto acumulado a cobrar 
								<td th:switch="${wallet.currencyType}"><span
									th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
								</span>
									</td>
								
								
								 <span
									th:text="${wallet.totalDebt}"></span>
							</div>
							<div class="ti tohide">
								Tasa de interés <span
									th:text="${wallet.currentInterestRate} +'%'"></span>
							</div>
						</div>
						<div class="mantenimiento money tohide">
							Mantenimiento de cuenta
							<div class="row">
								Precio
								<td th:switch="${wallet.currencyType}"><span
									th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
								</span>
									</td> <span th:text="${wallet.maintenancePrice}"></span>
							</div>
							<div class="subDet">
								Próximo pago: <span></span> <span
									th:text="${wallet.deadlineDate}"></span>
							</div>
						</div>
						<div class="descrip merge tohide">
							Descripción: <span th:text="${wallet.description}"></span>
						</div>
					</div>
					<div class="client-actions">
						<!-- <button class="delete color-alarm-bg">
							<span>Eliminar</span> <i class="fas fa-trash-alt"></i>
						</button>
						<button class="edit">
							<span>Editar</span> <i class="fas fa-edit"></i>
						</button>-->
						<a th:href="@{'/mystore/newPayment?id=' + ${wallet.walletId}}">
						<button class="new color-accent-bg">
							<span>Nuevo registro </span> <i class="fas fa-plus"></i>
						</button>
						</a>
						<a th:href="@{'/mystore/client-details?id=' + ${wallet.walletId}}"><button
								class="receipts color-secondary-bg">
								Ver detalle <i class="fas fa-clipboard-list"></i>
							</button></a>
					</div>
				</div>
				<!-- card -->

			</section>

			<!--cards-->

			<br>
			<section class="pagination center">
				<!--paginacion-->
				<form action="" method="get" class="row" id="frm-pagination">
					<button name="page" value="prev" class="color-secondary-bg">
						<i class="fas fa-chevron-left"></i>
					</button>
					<div class="pages row">
						<button name="page" class="active" value="1">1</button>
						<button name="page" value="2">2</button>
						<button name="page" value="3">3</button>
					</div>
					<button name="page" class="color-secondary-bg" value="next">
						<i class="fas fa-chevron-right"></i>
					</button>
				</form>
			</section>

		</main>

		<div class="fast-access">
			<button id="f-new-client">
				<i class="fas fa-plus"></i>
			</button>
		</div>


	</div>
</body>

</html>