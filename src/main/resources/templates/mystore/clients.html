<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="Layout/ResourcesLayout :: head">
<link th:href="@{/assets/styles/styles-client.css}" rel="stylesheet">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Clientes</title>
</head>
<body>
	<div class="content app">
		<header>
		<div id="nav-user">
		<div id="profile-more" class="hide-mobile"><i class="fas fa-user-circle" th:if="${session.usuario !=null}"></i> <span id="t-username" th:text="${session.usuario.user.name}"></span></div>
		<a th:href="@{/mystore/profile}"><div class="mobile"><i class="fas fa-user-circle"></i> <span th:text="${session.usuario.user.name}"><span></div></a> 
		 <div class="more hide-mobile"> 
		 <a th:href="@{/mystore/profile}"><div><i class="fas fa-id-badge"></i>Ir a perfil</div></a>
		 <Form th:action="@{/logout}" method="post"  id="log-out">
		</Form>
				<Form th:action="@{/logout}" method="post" id="logout"></Form>
					<button class="color-secondary-bg" type="submit" form="logout">
						<i class="fas fa-sign-out-alt"></i> Cerrar Sesion
					</button>
		</div>
		</div>
		 <!-- a th:href="@{/login}" id="logout"><div><i class="fas fa-sign-out-alt"></i> <span>Cerrar sesión </span></div></a  -->
		<nav><ul>
        <a th:href="@{'/mystore/records?id=' +${session.usuario.id} (orderyby=dateLasts,registerTypeBy=all,payMethodBy=all,rateTypeBy=all,currencyBy=soles)}"><li>
                    <i class="fas fa-book"></i> <span>Registros</span></li></a>
        <a th:href="@{/mystore/clients}"><li> <i class="fas fa-address-book"></i> <span>Clientes</span></li></a>
        <a th:href="@{/mystore/learn_more}"><li> <i class="fas fa-graduation-cap"></i> <span>Aprende más </span></li></a>
        </ul></nav>
        <div class="nav-title">
        <img src="/assets/images/Yupana-logo_w_512x512.png" alt="logo Yupana" class="icon"> <img src="/assets/images/Yupana-txt_w_512x256.png" alt="texto Yupana" class="text">
        </div>
		</header>
		<!--section class="filters">
			<div class="row">
				<h2>Filtros</h2>
				<button id="close-filters" class="btn-icon">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<form id="frm-filter">
				<strong>Ordenar por</strong> <label for="orderby"> <select
					name="orderby" id="orderby">
						<option value="dateLasts">Más reciente</option>
						<option value="dateFirsts">Más antiguo</option>
						<option value="deudaMayor">Mayor deuda</option>
						<option value="deudaMenor">Menor deuda</option>
						<option value="nombreAZ">Orden Alfabético A-Z</option>
						<option value="nombreZA">Orden Alfabético Z-A</option>
				</select>
				</label> <br> <strong>Filtrar por</strong>
				<div>
					<label> <span>Tipo de cliente</span> <select
						name="tiposCliente">
							<!--class="select-3"-->
							<!--option value="all">Todos los tipos de cliente</option>
							<option value="sell">Cliente regular</option>
					</select></label> <label> <span>Tipo de deuda</span> <select
						name="tiposPago" id="">
							<option value="all">Incluir clientes sin deuda</option>
							<option value="duetoPay">Solo clientes con deuda</option>
							<option value="payed">Solo clientes con deuda</option>
					</select></label> <label> <span>Tipo de tasa de interés</span> <select
						name="tiposInteres" id="">
							<option value="all">Todos los tipos de interés</option>
							<option value="ts">Con Tasa de Interés Simple</option>
							<option value="tc">Con Tasa de Interés Compuesta</option>
							<option value="te">Con Tasa de Interés Efectiva</option>
					</select></label> <label> <!----> <!--Fechas--> <span>Entre</span>
						<!--div>
							<input type="date"> - <input type="date" value="now">
						</div>
					</label> <label> <span>Tipo de moneda</span> <select
						name="tipoMoneda" id="">
							<option value="soles">S/. PE Soles Peruanos</option>
							<option value="usdollar">$ USD Dollar</option>
					</select></label>
				</div>
				<button type="submit" id="filter">
					<span>Filtrar</span> <i class="fas fa-filter"></i>
				</button>
			</form>
		</section-->

		<section class="actions row" style="margin-left: 0px; width:100%">

			<a th:href="@{'newClient?id=' + ${session.usuario.id}}">
				<button id="newClient">
					Nuevo cliente<i class="fas fa-plus"></i>
				</button>
			</a>
			<div class="cards row">
				<button id="view" value="todet">
					Mostrar detalles <i class="fas fa-eye"></i>
				</button>
				<button id="export" ype=”button” value=”Imprimir” onclick="window.print()">
                    Exportar <i class="fas fa-download"></i></i>
                </button>
			</div>
		</section>

		<main class="container" style="margin-left: 0px; width:100%">
			<h1>Clientes</h1>
			<section class="cards" id="c-clients">

				<div class="card easy center" th:each="wallet : ${wallets}">
					<!--det o easy-->
					<div class="top">
						<h1 th:text="'Detalle de Línea - '+${wallet.state}"></h1>
						<div class="r-code">
							Código de registro <span th:text="${wallet.userId}">NM1238913</span>
						</div>
					</div>
					<div class="details">
						<div class="client">
							Cliente <span><a
								th:text="${wallet.name} + ' '+ ${wallet.firstLastname}+ ' '+ ${wallet.secondLastname}"></a></span>
						</div>
						<div class="tInterest tohide">
							Tipo de interés <span th:text="${wallet.rateType}"></span> <span
								class="subDet"> Capitalización: <span
								th:text="${wallet.currentCapitalization} + ' - ' +${wallet.capitalizationType}">
							</span></span>
						</div>

						<div class="credleft tohide">
							<!--debt o payment-->
							<div>
								Crédito restante <span>
									<td th:switch="${wallet.currencyType}"><span
										th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
									</span>
								</span> <span th:text="${wallet.currentCreditLine}"></span>
							</div>
							<div class="subDet">
								Crédito otorgado <span>
									<td th:switch="${wallet.currencyType}"><span
										th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
									</span></td>
								</span> <span th:text="${wallet.creditLine}"></span>
							</div>
						</div>
						<div class="acum">
							<div class="money debt">
                                Monto acumulado a cobrar
                                <td th:switch="${wallet.currencyType}">
                                    <span th:case="'soles'" th:text="'S/. ' +${wallet.totalDebt}"></span> 
                                    <span th:case="'usdollar'" th:text="'$' +${wallet.totalDebt}"></span>
                                </td>
                            </div>							<div class="ti tohide">
								Tasa de interés <span
									th:text="${wallet.currentInterestRate} +'%'"></span>
							</div>
						</div>
						<div class="mantenimiento money tohide">
							Mantenimiento de cuenta
							<div class="row">
								Precio
								<td th:switch="${wallet.currencyType}"><span
									th:case="'soles'">S/. </span> <span th:case="'usdollar'">$
								</span></td> <span th:text="${wallet.maintenancePrice}"></span>
							</div>
							<div class="subDet">
								Próximo pago: <span></span> <span
									th:text="${wallet.deadlineDate}"></span>
							</div>
						</div>
						<div class="descrip merge tohide">
							Descripción: <span th:text="${wallet.description}"></span>
						</div>
					</div>
					<div class="client-actions">
						<!-- <button class="delete color-alarm-bg">
							<span>Eliminar</span> <i class="fas fa-trash-alt"></i>
						</button>
						<button class="edit">
							<span>Editar</span> <i class="fas fa-edit"></i>
						</button>-->
						<a th:href="@{'/mystore/newPayment?id=' + ${wallet.walletId}}">
							<button class="new color-accent-bg">
								<span>Amortización </span> <i class="fas fa-plus"></i>
							</button>
						</a>
						<a
							th:href="@{'/mystore/client-details?id=' + ${wallet.walletId}}"><button
								class="receipts color-secondary-bg">
								Ver detalle <i class="fas fa-clipboard-list"></i>
							</button></a>
					</div>
				</div>
				<!-- card -->

			</section>

			<!--cards-->

			<br>
		</main>

		<div class="fast-access">
			<button id="f-new-client">
				<i class="fas fa-plus"></i>
			</button>
		</div>


	</div>
</body>

</html>